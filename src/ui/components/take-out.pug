template#op-take-out-tpl
  #take-out
    el-row(:gutter="20")
      el-col(:span="24")
        el-collapse(v-model="activeForm", accordion)
          el-collapse-item(title="Artikel rausnehmen", name="additem")
            el-form(:inline="true", ref="form", :model="takeOut", label-position="top")
              el-form-item(label="Was", prop="title")
                el-autocomplete(v-model="takeOut.title", :fetch-suggestions="queryItems", size="large",
                  placeholder="z.B. Cola, Asbach...", @select="handleItemSelect")
              el-form-item(label="Größe", prop="size", v-if="itemToAdd")
                el-select(v-model="takeOut.size", size="large")
                  el-option(v-for="size in itemToAdd.sizes", :v-key="size", :label="size", :value="size")
              el-form-item(label="Einheit", prop="unit", v-if="itemToAdd")
                el-select(v-model="takeOut.unit", size="large")
                  el-option(v-for="unit in itemToAdd.units", :v-key="unit", :label="unit", :value="unit")
              el-form-item(label="Anzahl", prop="quantity_amount", v-if="itemToAdd")
                el-input-number(v-model="takeOut.quantity_amount", size="large")
              el-form-item(label="Packung", prop="quantity", v-if="itemToAdd")
                el-select(v-model="takeOut.quantity", size="large")
                  el-option(v-for="quantity in itemToAdd.quantities", :v-key="quantity", :label="quantity", :value="quantity")
              el-form-item.hide-label(label="Aktion", prop="quantity", v-if="itemToAdd")
                el-button(@click="addTakeOut", type="primary", size="large") Speichern
    el-row(:gutter="20", v-if="takeOutList.length > 0", justify="center", type="flex")
      el-button(size="large", @click="resetTakeOut") Reset
      el-button(size="large", type="success", @click="submitTakeOut") Fertig
    el-row(:gutter="20", v-if="takeOutList.length > 0")
      el-col(:span="24")
        el-table(:data="takeOutList", stripe, :default-sort="{prop: 'title', order: 'ascending'}")
          el-table-column(prop="title", label="Was", sortable)
          el-table-column(prop="size", label="Größe", sortable)
          el-table-column(prop="unit", label="Einheit", sortable)
          el-table-column(prop="quantity_amount", label="Anzahl", sortable)
          el-table-column(prop="quantity", label="Packung", sortable)
          el-table-column(fixed="right", width="80")
            template(scope="scope")
              el-button-group
                el-button(type="primary", icon="delete", size="mini", @click="removeTakeOut(scope.row)")
